<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hello VuePress</title>
    <meta name="generator" content="VuePress 1.8.3">
    <link rel="icon" href="./logo.png">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/vuepress-studyNote/assets/css/0.styles.e88116b1.css" as="style"><link rel="preload" href="/vuepress-studyNote/assets/js/app.ff2d10b2.js" as="script"><link rel="preload" href="/vuepress-studyNote/assets/js/2.fb00c507.js" as="script"><link rel="preload" href="/vuepress-studyNote/assets/js/27.1429e341.js" as="script"><link rel="prefetch" href="/vuepress-studyNote/assets/js/10.128cb97f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/11.fa49d6b9.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/12.4ecb641c.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/13.813f78a3.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/14.dd37623c.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/15.42a0f85f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/16.aff0b699.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/17.f4f64b16.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/18.a90d5cf1.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/19.9e85d01a.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/20.fdeba8ca.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/21.80029f92.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/22.64989a32.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/23.35abbd6d.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/24.a538fb6e.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/25.34be11cb.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/26.eb0b6464.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/28.f37db598.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/29.c74b46e3.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/3.fbf83a7f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/30.10281b12.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/31.4de025af.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/32.ab9def77.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/33.c29a332b.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/34.d82dd7df.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/35.b7e25d69.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/36.474da10b.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/37.441896f9.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/38.9423ed3a.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/4.b602b2f0.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/5.d5233f6e.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/6.270f939c.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/7.093196f8.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/8.1cb661a3.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/9.69f4edac.js">
    <link rel="stylesheet" href="/vuepress-studyNote/assets/css/0.styles.e88116b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-studyNote/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-studyNote/JS/åŸºç¡€çŸ¥è¯†.html" class="sidebar-link">åŸºç¡€</a></li><li><a href="/vuepress-studyNote/JS/å¸¸ç”¨æ–¹æ³•.html" class="sidebar-link">å¸¸ç”¨æ–¹æ³•</a></li><li><a href="/vuepress-studyNote/JS/JS-Web-API.html" class="sidebar-link">JS-Web</a></li></ul></section></li><li><a href="/vuepress-studyNote/Webpack.html" aria-current="page" class="active sidebar-link">Webpack</a></li><li><a href="/vuepress-studyNote/ç½‘ç»œåŸç†.html" class="sidebar-link">ç½‘ç»œåŸç†</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç®—æ³•</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJs</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><ol><li>æ¦‚è¿°
webpackä¸ºå‰ç«¯æ‰“åŒ…æ„å»ºå·¥å…·ï¼Œé€šè¿‡loaderè½¬æ¢æ–‡ä»¶ï¼Œé€šè¿‡pluginæ’ä»¶æ‰©å±•webpackåŠŸèƒ½</li> <li>æ„å»ºè¿‡ç¨‹
â‘ è½½å…¥ Webpack æ ¸å¿ƒæ¨¡å—ï¼Œåˆ›å»º Compiler å¯¹è±¡ï¼›<br>
â‘¡ä½¿ç”¨ Compiler å¯¹è±¡å¼€å§‹ç¼–è¯‘æ•´ä¸ªé¡¹ç›®ï¼›<br>
â‘¢ä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œè§£ææ¨¡å—ä¾èµ–ï¼Œå½¢æˆä¾èµ–å…³ç³»æ ‘ASTï¼›<br>
â‘£é€’å½’ä¾èµ–æ ‘ï¼Œå°†æ¯ä¸ªæ¨¡å—äº¤ç»™å¯¹åº”çš„ Loader å¤„ç†ï¼›<br>
â‘¤åˆå¹¶ Loader å¤„ç†å®Œçš„ç»“æœï¼Œå°†æ‰“åŒ…ç»“æœè¾“å‡ºåˆ° dist ç›®å½•</li> <li>è‡ªå®šä¹‰å®ç°plugin
é¦–å…ˆåˆ›å»ºä¸€ä¸ªclassï¼Œä¹‹åä½¿ç”¨applyè°ƒç”¨ï¼Œå†æ ¹æ®webpackæä¾›çš„å„æ—¶æœŸçš„é’©å­ç¼–å†™åŠŸèƒ½</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">RemoveCommentsPlugin</span> <span class="token punctuation">{</span>   <span class="token comment">//æ¸…æ¥šæ‰“åŒ…åæ–‡ä»¶ä¸­çš„æ³¨é‡Š</span>
  <span class="token function">apply</span> <span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//é…ç½®ä¿¡æ¯</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'RemoveCommentsPlugin'</span><span class="token punctuation">,</span> <span class="token parameter">compilation</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// compilation =&gt; å¯ä»¥ç†è§£ä¸ºæ­¤æ¬¡æ‰“åŒ…çš„ä¸Šä¸‹æ–‡</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> name <span class="token keyword">in</span> compilation<span class="token punctuation">.</span>assets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> contents <span class="token operator">=</span> compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">const</span> noComments <span class="token operator">=</span> contents<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/\*{2,}\/\s?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
          compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token function-variable function">source</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> noComments<span class="token punctuation">,</span>
            <span class="token function-variable function">size</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> noComments<span class="token punctuation">.</span>length
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>æ’é™¤ä¾èµ–åŒ…
å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨Reactä¹‹ç±»çš„ä¾èµ–ï¼Œå¯ä»¥ä½¿ç”¨CDNå¼•å…¥ï¼Œåœ¨webpackä¸­ä½¿ç”¨externalsæ’é™¤ä¾èµ–åŒ…</li> <li>å¤„ç†æ ·å¼
ã€loaderçš„æ‰§è¡Œé¡ºåºæ˜¯ä»åå¾€å‰çš„ã€‘å…ˆè¯†åˆ«å…¼å®¹ã€å†è§£æä¸ºcssã€å†æ’å…¥åˆ°é¡µé¢ä¸­</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token operator">:</span><span class="token punctuation">{</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    Plugins<span class="token operator">:</span><span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span>â€˜autoprefixerâ€™<span class="token punctuation">)</span><span class="token punctuation">]</span>   <span class="token comment">//å…¼å®¹</span>
<span class="token punctuation">}</span>
rules<span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader'</span><span class="token punctuation">,</span><span class="token string">'postcss-loader'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>ï¼Œ
    <span class="token punctuation">{</span>
        test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loaderâ€™,'</span>less<span class="token operator">-</span>loader'<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><ol start="6"><li>æ‹†åˆ†é…ç½®å’Œmerge
ä¸€èˆ¬å¯¹webpackçš„é…ç½®å…ˆå®šä¹‰commonä¸€ä¸ªå…¬å…±çš„é…ç½®ï¼Œå†å®šä¹‰ä¸€ä¸ªdevçš„é…ç½®ï¼Œå†å®šä¹‰ä¸€ä¸ªçº¿ä¸Šçš„é…ç½®<br>
const { smart }  = require(â€˜web pack-mergeâ€™)<br>
ç„¶ååœ¨devæˆ–prodçš„é…ç½®æ–‡ä»¶ä¸­éœ€è¦ä½¿ç”¨smartå¼•å…¥å…¬å…±çš„é…ç½®æ–‡ä»¶<br>
module.exports = smart(webpackCommonConf,{â€¦})</li> <li>å¯åŠ¨æœ¬åœ°æœåŠ¡
åœ¨devç¯å¢ƒä¸‹å®‰è£…webpack-dev-server</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>devServer<span class="token operator">:</span><span class="token punctuation">{</span>
    port<span class="token operator">:</span><span class="token number">8080</span><span class="token punctuation">,</span>
    progress <span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//æ˜¾ç¤ºæ‰“åŒ…çš„è¿›åº¦æ¡</span>
    contentbase<span class="token operator">:</span>distPath<span class="token punctuation">,</span> <span class="token comment">//æ ¹ç›®å½•,å¯åŠ¨çš„æ—¶å€™åŸºäºå“ªä¸ªç›®å½•è®¿é—®æ–‡ä»¶</span>
    open<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token comment">//è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    compress<span class="token operator">:</span><span class="token boolean">true</span>ï¼Œ    <span class="token comment">//å¯åŠ¨gzipå‹ç¼©</span>
    <span class="token comment">//è®¾ç½®ä»£ç†ã€è·¨åŸŸè¯·æ±‚å…¶ä»–æ¥å£ã€‘</span>
    proxy<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//å¯ä»¥å°†æœ¬åœ° /api/xxxä»£ç†åˆ°localhost:3000/api/xxx</span>
        â€˜apiâ€™<span class="token operator">:</span>â€™http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span>'<span class="token punctuation">,</span>
        â€˜api2â€™<span class="token operator">:</span><span class="token punctuation">{</span>
            target<span class="token operator">:</span>â€™http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span>â€™<span class="token punctuation">,</span>
            pathRewriter<span class="token operator">:</span><span class="token punctuation">{</span>
                â€˜api2â€™<span class="token operator">:</span><span class="token string">''</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¤‡æ³¨ï¼š
webpack-dev-serveræ˜¯ä¸€ä¸ªå°å‹çš„node.js ExpressæœåŠ¡å™¨,å®ƒä½¿ç”¨webpack-dev-middlewareä¸­é—´ä»¶æ¥ä¸ºé€šè¿‡webpackæ‰“åŒ…ç”Ÿæˆçš„èµ„æºæ–‡ä»¶æä¾›WebæœåŠ¡ã€‚å®ƒè¿˜æœ‰ä¸€ä¸ªé€šè¿‡Socket.IOè¿æ¥ç€webpack-dev-serveræœåŠ¡å™¨çš„å°å‹è¿è¡Œæ—¶ç¨‹åºã€‚webpack-dev-serverå‘é€å…³äºç¼–è¯‘çŠ¶æ€çš„æ¶ˆæ¯åˆ°å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ ¹æ®æ¶ˆæ¯ä½œå‡ºå“åº”<br>
å³ï¼šä¸ºèµ„æºæ–‡ä»¶æä¾›webæœåŠ¡</p> <ul><li>æ”¯æŒä¸¤ç§æ¨¡å¼çš„åˆ·æ–°ï¼šiframeæ¨¡å¼å’Œinlineæ¨¡å¼â€”â€”ä»£ç å‘ç”Ÿæ”¹åŠ¨çš„æ—¶å€™iframeä¼šé‡æ–°åŠ è½½</li> <li>æ”¯æŒæ¨¡å—çƒ­æ›¿æ¢ï¼ˆå‰ç«¯ä»£ç å˜åŠ¨çš„æ—¶å€™æ— éœ€åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œåªæ›¿æ¢å˜åŒ–éƒ¨åˆ†ï¼‰</li></ul> <ol start="9"><li>æŠ½ç¦»å…¬å…±ä»£ç ğŸ””
ä¸åŒå…¥å£çš„æ–‡ä»¶å¼•ç”¨ç›¸åŒçš„æ¨¡å—ï¼Œå¯ä»¥æŠŠå…¬å…±æ¨¡å—æŠ½ç¦»å‡ºæ¥å•ç‹¬æ‰“åŒ…å†å¼•ç”¨<br>
ç¬¬ä¸‰æ–¹æ¨¡å—æœ€å¥½å•ç‹¬æ‰“åŒ…ï¼Œå¦‚æœå’Œä¸šåŠ¡ä»£ç ä¸€èµ·æ‰“åŒ…ï¼Œå¯èƒ½å¯¼è‡´åªæ”¹äº†ä¸€ç‚¹ç‚¹ä¸šåŠ¡ä»£ç æ‰“åŒ…æ–‡ä»¶çš„hashå€¼å˜äº†é‡æ–°åŠ è½½ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå°±ä¼šæ…¢</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‹ç¼© css</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">TerserJSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSAssetsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// åˆ†å‰²ä»£ç å—</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
        chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
        <span class="token comment">/**
         * initial å…¥å£chunkï¼Œå¯¹äºå¼‚æ­¥å¯¼å…¥çš„æ–‡ä»¶ä¸å¤„ç†
            async å¼‚æ­¥chunkï¼Œåªå¯¹å¼‚æ­¥å¯¼å…¥çš„æ–‡ä»¶å¤„ç†
            all å…¨éƒ¨chunk
          */</span>

        <span class="token comment">// ç¼“å­˜åˆ†ç»„</span>
        cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// ç¬¬ä¸‰æ–¹æ¨¡å—</span>
            vendor<span class="token operator">:</span> <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span> <span class="token comment">// chunk åç§°</span>
                priority<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// æƒé™æ›´é«˜ï¼Œä¼˜å…ˆæŠ½ç¦»ï¼Œé‡è¦ï¼ï¼ï¼</span>
                test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                minSize<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token comment">// å¤§å°é™åˆ¶</span>
                minChunks<span class="token operator">:</span> <span class="token number">1</span>  <span class="token comment">// æœ€å°‘å¤ç”¨è¿‡å‡ æ¬¡</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token comment">// å…¬å…±çš„æ¨¡å—</span>
            common<span class="token operator">:</span> <span class="token punctuation">{</span>
                name<span class="token operator">:</span> <span class="token string">'common'</span><span class="token punctuation">,</span> <span class="token comment">// chunk åç§°</span>
                priority<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// ä¼˜å…ˆçº§</span>
                minSize<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token comment">// å…¬å…±æ¨¡å—çš„å¤§å°é™åˆ¶</span>
                minChunks<span class="token operator">:</span> <span class="token number">2</span>  <span class="token comment">// å…¬å…±æ¨¡å—æœ€å°‘å¤ç”¨è¿‡å‡ æ¬¡</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="10"><li>ä¼˜åŒ–</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¿½ç•¥ moment ä¸‹çš„ /locale ç›®å½•</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.\/locale</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">moment</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token comment">// happyPack å¼€å¯å¤šè¿›ç¨‹æ‰“åŒ…</span>
<span class="token keyword">new</span> <span class="token class-name">HappyPack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦ id æ¥ä»£è¡¨å½“å‰çš„ HappyPack æ˜¯ç”¨æ¥å¤„ç†ä¸€ç±»ç‰¹å®šçš„æ–‡ä»¶</span>
    id<span class="token operator">:</span> <span class="token string">'babel'</span><span class="token punctuation">,</span>
    <span class="token comment">// å¦‚ä½•å¤„ç† .js æ–‡ä»¶ï¼Œç”¨æ³•å’Œ Loader é…ç½®ä¸­ä¸€æ ·</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'babel-loader?cacheDirectory'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token comment">// ä½¿ç”¨ ParallelUglifyPlugin å¹¶è¡Œå‹ç¼©è¾“å‡ºçš„ JS ä»£ç </span>
<span class="token keyword">new</span> <span class="token class-name">ParallelUglifyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ä¼ é€’ç»™ UglifyJS çš„å‚æ•°</span>
    <span class="token comment">// ï¼ˆè¿˜æ˜¯ä½¿ç”¨ UglifyJS å‹ç¼©ï¼Œåªä¸è¿‡å¸®åŠ©å¼€å¯äº†å¤šè¿›ç¨‹ï¼‰</span>
    uglifyJS<span class="token operator">:</span> <span class="token punctuation">{</span>
        output<span class="token operator">:</span> <span class="token punctuation">{</span>
            beautify<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// æœ€ç´§å‡‘çš„è¾“å‡º</span>
            comments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// åˆ é™¤æ‰€æœ‰çš„æ³¨é‡Š</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        compress<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// åˆ é™¤æ‰€æœ‰çš„ `console` è¯­å¥ï¼Œå¯ä»¥å…¼å®¹ieæµè§ˆå™¨</span>
            drop_console<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// å†…åµŒå®šä¹‰äº†ä½†æ˜¯åªç”¨åˆ°ä¸€æ¬¡çš„å˜é‡</span>
            collapse_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// æå–å‡ºå‡ºç°å¤šæ¬¡ä½†æ˜¯æ²¡æœ‰å®šä¹‰æˆå˜é‡å»å¼•ç”¨çš„é™æ€å€¼</span>
            reduce_vars<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/vuepress-studyNote/JS/JS-Web-API.html" class="prev">
        JS-Web
      </a></span> <span class="next"><a href="/vuepress-studyNote/ç½‘ç»œåŸç†.html">
        ç½‘ç»œåŸç†
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-studyNote/assets/js/app.ff2d10b2.js" defer></script><script src="/vuepress-studyNote/assets/js/2.fb00c507.js" defer></script><script src="/vuepress-studyNote/assets/js/27.1429e341.js" defer></script>
  </body>
</html>
