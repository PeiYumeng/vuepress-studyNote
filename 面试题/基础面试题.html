<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hello VuePress</title>
    <meta name="generator" content="VuePress 1.8.3">
    <link rel="icon" href="./logo.png">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/vuepress-studyNote/assets/css/0.styles.7beaa45f.css" as="style"><link rel="preload" href="/vuepress-studyNote/assets/js/app.6384e3d1.js" as="script"><link rel="preload" href="/vuepress-studyNote/assets/js/2.ac6ad776.js" as="script"><link rel="preload" href="/vuepress-studyNote/assets/js/17.dd2ad0b5.js" as="script"><link rel="prefetch" href="/vuepress-studyNote/assets/js/10.7ecfd781.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/11.8943089d.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/12.6267a9c3.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/13.bc4e71ab.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/14.cb986f3f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/15.a5b1f4f2.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/16.59544cf6.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/18.bd777779.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/19.c3d03f9d.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/20.c71cddcb.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/21.ba3be8a0.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/22.106599b4.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/23.cbac4a1b.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/24.b3707c88.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/25.91f5b585.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/26.78526470.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/27.4ebee20f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/28.f23510c3.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/29.58b01a76.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/3.3eb58a29.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/30.210a129e.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/31.96c7143a.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/32.64f32648.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/33.d03bc5a0.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/4.b855a991.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/5.2a779ff4.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/6.f6c57a86.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/7.8c6cd377.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/8.31bf753e.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/9.25aca23a.js">
    <link rel="stylesheet" href="/vuepress-studyNote/assets/css/0.styles.7beaa45f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-studyNote/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-studyNote/JS/基础知识.html" class="sidebar-link">JS基础</a></li><li><a href="/vuepress-studyNote/JS/异步.html" class="sidebar-link">异步</a></li><li><a href="/vuepress-studyNote/JS/常用方法.html" class="sidebar-link">常用方法</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJs</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><ol><li>前端优化可以从哪些方面进行<br> <strong>【多使用内存、缓存，减少CPU计算量，减少网络加载耗时】</strong></li></ol> <ul><li>DOM性能优化：1️⃣对DOM查询做缓存 2️⃣将频繁操作改为一次性操作（创建文档碎片最后插入到DOM中）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> listNode <span class="token operator">=</span> document<span class="token punctuation">,</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
  frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
istNode<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span>
</code></pre></div><ul><li>为了减少网络请求进行资源合并、压缩代码</li> <li>缓存,打包的时候使用[contenthash]<br>
静态资源加hash后缀，根据文件内容计算hash，文件内容不变则hash不变，则url不变，url和文件不变则会自动触发http缓存机制返回304</li> <li>CDN(内容分发网络：通过中心平台的负载均衡、内容分发、调度等使用户获取就近内容)</li> <li>SSR服务端渲染：将网页和数据一起加载一起渲染；（减少网络请求）<br>
非SSR（前后端分离）：先加载网页，再加载数据，再渲染数据</li> <li>懒加载：前面图片加载完，后面的慢慢加载完<br>
给图片先设置一个默认的小的预览图片，真正的放在data-realsrc里面，当浏览器判断到上滑浏览到图片露出屏幕（dom设置）时候再加载<br>
vue中可以用is</li> <li>防抖、节流<br>
防抖:拖拽一个元素时，要实时拿到当前元素的位置，如果直接用drag事件频繁触发会卡顿,所以一段时间后一起触发<br>
节流：无论拖拽速度多快，每100ms触发一次</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//封装防抖</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">500</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//注意是在闭包中</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//函数作为返回值就形成闭包了</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>itmer<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span>
      timer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>delay<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
input1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>input1<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span>

<span class="token comment">//封装节流</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">100</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>arguments<span class="token punctuation">)</span>
      timer <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>delay<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
div1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'drag'</span><span class="token punctuation">,</span><span class="token function">throttle</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>offsetX<span class="token punctuation">,</span>e<span class="token punctuation">.</span>offsetY<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>webpack优化
<strong>【优化打包构建速度 - 开发体验和效率】</strong>
1️⃣优化babel - loader</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    use<span class="token operator">:</span><span class="token punctuation">[</span>‘babel<span class="token operator">-</span>loader<span class="token operator">?</span>cacheDirectory<span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">//开启缓存. 【es6代码没有改代码的就不会重新编译就会缓存一下】</span>
    include<span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname <span class="token punctuation">,</span>’src’<span class="token punctuation">)</span>
    <span class="token comment">//排除范围include 和exculde两者选一个即可</span>
    <span class="token comment">//exclude:path.resolve(__dirname,’node_modules')</span>
<span class="token punctuation">}</span>
</code></pre></div><p>2️⃣IgnorePlugin避免引入无用模块<br>
比如引入moment只使用中文，避免引入过多语言</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//plugin</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.\/locale</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">moment</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token comment">//忽略moment下的/local目录</span>
<span class="token comment">//js文件中</span>
Import ‘moment<span class="token operator">/</span>local<span class="token operator">/</span>zh<span class="token operator">-</span>cn’<span class="token punctuation">.</span> <span class="token comment">//手动引入中文语言包</span>
</code></pre></div><p>3️⃣noParse避免重复打包</p> <div class="language-js extra-class"><pre class="language-js"><code>Module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    module<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//读完整的react.min.js文件就没有采用模块化</span>
        <span class="token comment">//忽略对react.min.js文件的递归解析处理</span>
        noParse<span class="token operator">:</span><span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">react\.min\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span>  【这种基本上已经是采用模块化处理过的，不用再打包，只要检查到这个就不会去打包】
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>IgnorePlugin直接不引入，代码中没有，需要什么自己去引<br>
noParse引入，但不打包.   【都既优化了打包速度又优化了产出体积】<br>
4️⃣happyPack 多进程打包<br>
Js单线程，开启多进程打包<br>
提高构建速度（特别是多核CPU）<br>
const HappyPack = require(‘happypack’)
<img src="/vuepress-studyNote/assets/img/1.ce4be499.png" alt="示例">
5️⃣ParallelUglifyPlugin多进程压缩js<br>
webpack内置Uglify工具压缩js<br>
js单进程，开启多进程压缩更快<br>
原理和happyPack同理<br>
插件const ParallelUglifyPlugin = require(‘webpack-parallel-uglify-plugin’)<br> <img src="/vuepress-studyNote/assets/img/2.dc98278b.png" alt="示例"><br>
关于开启多进程：
项目比较大，打包较慢，开启多进程能提高速度
项目比较小，打包很快，开启多进程会降低速度（进程开销）
☞自动刷新
☞热更新
☞DllPlugin</p> <ul><li>vue优化
1️⃣合理使用v-show if\合理使用computed\v-for加key\及时销毁\合理使用异步组件\合理使用keep-alive\data层级不要太深<br>
2️⃣使用vue-loader在开发环境做模版编译（预编译）</li> <li>React优化
1️⃣在constructor构造器中bind（this）比较好，这样无论点击多少次都只bind一次；<br>
如果是在render里面绑定，每点击一次都需要重新bind都要重新返回一个新的函数【效率不好】<br>
2️⃣React-fiber如何性能优化<br>
patch比较在React中被拆分为两个阶段：</li></ul> <ul><li>reconciliation阶段-执行diff算法，纯JS计算</li> <li>commit阶段-将diff结果渲染到DOM<br>
原因：js是单线程，且和DOM渲染共用一个线程，当组件足够复杂，组件更新时计算和渲染压力都很大，同时再有dom操作会卡顿<br>
fiber【内部运行机制】将recociliation阶段进行任务拆分（commit无法拆分）<br>
DOM需要渲染时暂停，空闲时恢复<br>
通过window.requestidleCallback这个API来判断什么时候DOM渲染</li></ul> <ol start="2"><li>tcp与udp的区别</li></ol> <ul><li>tcp <strong>面向连接</strong><br>
1、在收发数据的时候，必须和对方建立可靠的连接【三次握手】【四次挥手】<br>
三次握手过程中，没有应用层的数据 ,SYN这个标志位只有在TCP建立连接时才会被置1 ,握手完成后SYN标志位被置0。<br>
备注：
（1）ACK：是TCP报头的控制位之一，对数据进行确认。确认由目的端发出， 用它来告诉发送端这个序列号之前的数据段都收到了。 比如确认号为X，则表示前X-1个数据段都收到了，只有当ACK=1时,确认号才有效，当ACK=0时，确认号无效，这时会要求重传数据，保证数据的完整性。<br>
（2）SYN：同步序列号，TCP建立连接时将这个位置1。<br>
（3）FIN：发送端完成发送任务位，当TCP完成数据传输需要断开时,，提出断开连接的一方将这位置1。<br>
2、TCP包头的最小长度，为20字节。
3、一对一连接</li> <li>udp <strong>面向报文</strong><br>
1、传输数据之前源端和终端不建立连接， 简单地去抓取来自应用程序的数据，并<strong>尽可能快</strong>地把它扔到网络上。
2、不需要维护连接状态，包括收发状态等， 因此<strong>一台服务机可同时向多个客户机</strong>传输相同的消息。
3、UDP信息包的标题很短，只有8个字节，相对于TCP的20个字节信息包的额外开销很小。
4、吞吐量不受拥挤控制算法的调节，只受应用软件生成数据的速率、传输带宽、 源端和终端主机性能的限制。
5、UDP使用尽最大努力交付，<strong>即不保证可靠交付</strong>， 因此主机不需要维持复杂的链接状态表（这里面有许多参数）。
6、UDP是面向报文的。发送方的UDP对应用程序交下来的报文， 在添加首部后就向下交付给IP层。既不拆分，也不合并，而是保留这些报文的边界， 因此，应用程序需要选择合适的报文大小。
<strong>【总的来说】</strong>
1、基于连接与无连接；<br>
2、对系统资源的要求（TCP较多，UDP少）；<br>
3、UDP程序结构较简单；<br>
4、流模式与数据报模式 ；<br>
5、TCP保证数据正确性，UDP可能丢包；<br>
6、TCP保证数据顺序，UDP不保证</li></ul> <ol start="3"><li>get和post的区别<br>
GET 向服务器获取指定资源
POST 向服务器提交数据，数据放在请求体里
GET 用于获取信息，是无副作用的，是幂等的，且可缓存， 而POST 用于修改服务器上的数据，有副作用，非幂等，不可缓存。</li> <li>为什么需要初始化css样式</li></ol> <ul><li>兼容问题，不同浏览器对有些标签的默认值是不同的，如果没对CSS初始化往往会出现浏览器之间的页面显示差异。</li> <li>提高编码质量，可能重复的CSS样式很多。去掉标签的默认样式如：margin,padding，其他浏览器默认解析字体大小，字体设置。</li></ul> <ol start="5"><li>Dom事件有哪些阶段</li></ol> <ul><li>从文档的根节点流向目标对象（捕获阶段）
事件从文档的根节点出发，随着DOM树的结构向事件的目标节点流去。途中经过各个层次的DOM节点，并在各节点上触发捕获事件，直到到达事件的目标节点。捕获阶段的主要任务是<strong>建立传播路径</strong>，在冒泡阶段，事件会通过这个路径回溯到文档跟节点。当事件发生时，首先发生的是事件捕获，<strong>为父元素截获事件提供了机会。</strong></li> <li>然后在目标对向上被触发（目标阶段）</li> <li>之后再回溯到文档的根节点（冒泡阶段）.</li></ul> <ol start="6"><li>描述cookie与session
cookie</li></ol> <ul><li>存储在浏览器的一段字符串（最大5kb）</li> <li>跨域不共享</li> <li>是结构化数据 key=value;</li> <li>每次发送http请求，会将请求域的cookie一起发送给server</li> <li>server端可以修改cookie并返回给浏览器</li> <li>浏览器中也可以通过javascript修改cookie（有限制）</li> <li>客户端可以累加cookie</li> <li>cookie跨域不共享<br>
session</li> <li>存储会话信息(存储特定用户会话所需的属性和配置信息)<br>
session是一种解决问题的方法，cookie存储数据大小有限，可以在cookie中存储userId（随机字符串），然后通过userId读取session中的username等信息<br>
如果cookie中没有userId,先设置一个标志，需要生成新的cookie；如果没有session内容，先初始化一个空对象
req.session = SESSION_DATA[userId]<br>
SESSION_DATA为后端的一个JS变量，存储在进程被操作系统分配的内存中</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-studyNote/assets/js/app.6384e3d1.js" defer></script><script src="/vuepress-studyNote/assets/js/2.ac6ad776.js" defer></script><script src="/vuepress-studyNote/assets/js/17.dd2ad0b5.js" defer></script>
  </body>
</html>
