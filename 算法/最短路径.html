<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>é€ƒç¦»å¤§è¿·å®« | Hello VuePress</title>
    <meta name="generator" content="VuePress 1.8.3">
    <link rel="icon" href="./logo.png">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/vuepress-studyNote/assets/css/0.styles.c5220385.css" as="style"><link rel="preload" href="/vuepress-studyNote/assets/js/app.57c16235.js" as="script"><link rel="preload" href="/vuepress-studyNote/assets/js/2.00654c4d.js" as="script"><link rel="preload" href="/vuepress-studyNote/assets/js/36.95ece739.js" as="script"><link rel="prefetch" href="/vuepress-studyNote/assets/js/10.8bdba072.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/11.c0459775.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/12.622e4347.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/13.d657a2e9.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/14.c675d45b.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/15.13915e3b.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/16.89dea890.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/17.86167f1e.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/18.417327ad.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/19.90d041e5.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/20.856c557f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/21.ab1152c2.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/22.0657a454.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/23.f15c4747.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/24.a1d073d4.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/25.feb7ead8.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/26.5fee1abe.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/27.04c45ad4.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/28.c03aa9ee.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/29.2e2612ba.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/3.d7907780.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/30.cb59cffc.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/31.ee96de2e.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/32.0f85a349.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/33.03fd2c17.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/34.57e7738f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/35.d713f23c.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/37.ecdc9a20.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/38.4bb4fb4c.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/39.794617ef.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/4.9663fa9d.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/40.3ce6fbb8.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/41.51c6cec5.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/5.af36595f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/6.0f952876.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/7.a648995c.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/8.26754a8f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/9.1a515532.js">
    <link rel="stylesheet" href="/vuepress-studyNote/assets/css/0.styles.c5220385.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-studyNote/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/vuepress-studyNote/Webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/vuepress-studyNote/ç½‘ç»œåŸç†.html" class="sidebar-link">ç½‘ç»œåŸç†</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ç®—æ³•</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-studyNote/ç®—æ³•/ç®—æ³•æ€»ç»“.html" class="sidebar-link">ç®—æ³•æ€»ç»“</a></li><li><a href="/vuepress-studyNote/ç®—æ³•/å­—ç¬¦ä¸².html" class="sidebar-link">å­—ç¬¦ä¸²</a></li><li><a href="/vuepress-studyNote/ç®—æ³•/æ•°ç»„.html" class="sidebar-link">æ•°ç»„</a></li><li><a href="/vuepress-studyNote/ç®—æ³•/é“¾è¡¨.html" class="sidebar-link">é“¾è¡¨</a></li><li><a href="/vuepress-studyNote/ç®—æ³•/æ ˆ.html" class="sidebar-link">æ ˆ</a></li><li><a href="/vuepress-studyNote/ç®—æ³•/åŠ¨æ€è§„åˆ’.html" class="sidebar-link">åŠ¨æ€è§„åˆ’</a></li><li><a href="/vuepress-studyNote/ç®—æ³•/æ’åº.html" class="sidebar-link">æ’åº</a></li><li><a href="/vuepress-studyNote/ç®—æ³•/æœ€çŸ­è·¯å¾„.html" class="active sidebar-link">æœ€çŸ­è·¯å¾„</a></li><li><a href="/vuepress-studyNote/ç®—æ³•/å¹¿åº¦ä¼˜å…ˆ.html" class="sidebar-link">å¹¿åº¦ä¼˜å…ˆ</a></li><li><a href="/vuepress-studyNote/ç®—æ³•/ç‰›å®¢é¢˜åº“æ€»ç»“.html" class="sidebar-link">ç‰›å®¢æ€»ç»“</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJs</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h4 id="é€ƒç¦»å¤§è¿·å®«"><a href="#é€ƒç¦»å¤§è¿·å®«" class="header-anchor">#</a> é€ƒç¦»å¤§è¿·å®«</h4> <p>é¢˜ç›®æè¿°ï¼šéœ€è¦ä»æºä½ç½®èµ°åˆ°ç›®æ ‡ä½ç½®ï¼Œä¸­é—´è®¾æœ‰éšœç¢ç‰©ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥èµ°åˆ°<br> <strong>ä¼˜åŒ–bfsï¼šè®¡ç®—éšœç¢ç‰©æœ€å¤§å¯ä»¥å›´ä½çš„æ–¹æ ¼ï¼Œå¦‚æœæºä½ç½®å’Œç›®æ ‡ä½ç½®éƒ½ä¸åœ¨å…¶ä¸­ï¼Œåˆ™å¯ä»¥åˆ°è¾¾</strong>
æ•´ä½“æ€è·¯ï¼š<strong>é€šè¿‡bfsåˆ¤æ–­ä»å½“å‰ä½ç½®èµ°åˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå…¶ä¸­æ‰«æè¿‡çš„æ–¹æ ¼æ•°æ˜¯å¦å¤§äºå¯åŒ…å›´çš„æœ€å¤§æ–¹æ ¼æ•°</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> dirs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//å››ä¸ªæ–¹å‘</span>
<span class="token keyword">const</span> <span class="token constant">BOUNDARY</span> <span class="token operator">=</span> <span class="token number">1000000</span><span class="token punctuation">;</span>
<span class="token comment">//å¸¸è§„çš„å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œçœ‹æ˜¯å¦ä»sourceè®¿é—®åˆ°target</span>
<span class="token comment">//bfså¯ä»¥åˆ¤æ–­æ˜¯å¦å¯ä»¥åˆ°è¾¾ï¼Œæ— éœ€è®°å½•è·¯å¾„</span>
<span class="token keyword">var</span> <span class="token function-variable function">isEscapePossible</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">blocked<span class="token punctuation">,</span> source<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//ä¸»å‡½æ•°</span>
    <span class="token keyword">let</span> n <span class="token operator">=</span> blocked<span class="token punctuation">.</span>length
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//å¦‚æœåªæœ‰1ä¸ªéšœç¢ï¼Œæ— æ³•å›´æˆåœˆå¿…ç„¶èƒ½èµ°è¿‡å»</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> hashBlocked <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> pos <span class="token keyword">of</span> blocked<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//æ³¨æ„ï¼Œä¸èƒ½ç›´æ¥å­˜è¿›å»ï¼Œè¦éå†æ¯ä¸ªå°æ•°ç»„å­˜è¿›å»</span>
        hashBlocked<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span>pos<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pos<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//å¹¿åº¦ä¼˜å…ˆæœç´¢éå†</span>
    <span class="token keyword">let</span> ans <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token keyword">let</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    visited<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> temp <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> x <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token keyword">let</span> y <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> dir <span class="token keyword">of</span> dirs<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> x_ <span class="token operator">=</span> x<span class="token operator">+</span>dir<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            <span class="token keyword">let</span> y_ <span class="token operator">=</span> y<span class="token operator">+</span>dir<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>x_ <span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> x_ <span class="token operator">&lt;</span><span class="token constant">BOUNDARY</span> <span class="token operator">&amp;&amp;</span> y_ <span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> y_<span class="token operator">&lt;</span><span class="token constant">BOUNDARY</span>
            <span class="token operator">&amp;&amp;</span><span class="token operator">!</span>hashBlocked<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x_<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y_<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
            <span class="token operator">&amp;&amp;</span><span class="token operator">!</span>visited<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>x_<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>y_<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//æ‰¾åˆ°ä¸‹ä¸€æ­¥</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>x_ <span class="token operator">==</span> target<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> y_ <span class="token operator">==</span>target<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    ans <span class="token operator">=</span> <span class="token boolean">true</span>
                    <span class="token keyword">return</span> 
                <span class="token punctuation">}</span>
                visited<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x_<span class="token punctuation">,</span>y_<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>x_<span class="token punctuation">,</span>y_<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ans
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="è·³è·ƒæ¸¸æˆ"><a href="#è·³è·ƒæ¸¸æˆ" class="header-anchor">#</a> è·³è·ƒæ¸¸æˆ</h4> <p>é¢˜ç›®æè¿°ï¼šå¯ä»¥ä»å½“å‰ä½ç½®è·³ä¸‹ä¸€ä¸ªå€¼ç›¸åŒçš„ä½ç½®ï¼Œæˆ–ç›¸é‚»ä½ç½®ï¼Œå³i+1\i-1\arrã€iã€‘==arrã€jã€‘<br>
è¿”å›æœ€å°‘çš„è·³è·ƒæ¬¡æ•°
æ•°æ®å­˜å‚¨ï¼šidxMapå­˜å‚¨äº†ä¸€ä¸ªå€¼ï¼Œå¯¹åº”äº†å“ªå‡ ä¸ªèŠ‚ç‚¹ä¸‹æ ‡ã€exploredæ˜¯å¦è®¿é—®è¿‡
æ•´ä½“æ€è·¯ï¼šç¬¬ä¸€ä¸ªèŠ‚ç‚¹å…¥é˜Ÿï¼Œæ‰¾åˆ°æœªè®¿é—®è¿‡çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆç›¸åŒå€¼ã€å·¦ã€å³ä¸‰ç§æƒ…å†µï¼‰å…¥é˜Ÿï¼Œç›´åˆ°æ‰¾åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹è·³å‡ºå¾ªç¯<br>
ä¼˜åŒ–ï¼šé€šè¿‡setæˆ–mapå·²è®¿é—®èŠ‚ç‚¹ä¸å†è®¿é—®</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token keyword">var</span> <span class="token function-variable function">minJumps</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> idxMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment">//æ‰€ä»¥å†…å®¹çš„å…³è”å…³ç³»</span>
        explored <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">//æ˜¯å¦è®¿é—®è¿‡</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>idxMap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
          idxMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
      <span class="token keyword">else</span>
          idxMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">//å­˜å‚¨å½¢å¼ä¸ºï¼Œä¸€ä¸ªå€¼ï¼Œå¯¹åº”å“ªå‡ ä¸ªèŠ‚ç‚¹çš„ä¸‹æ ‡</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> step <span class="token operator">=</span> <span class="token number">0</span>   <span class="token comment">//è·ŸèŠ‚ç‚¹æå‰å…¥é˜Ÿ</span>
  explored<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span>nodes<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">const</span> nxt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> cur <span class="token keyword">of</span> nodes<span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>cur <span class="token operator">==</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
              <span class="token keyword">return</span> step
          <span class="token keyword">if</span><span class="token punctuation">(</span>idxMap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//ä»mapé‡Œé¢æ‰¾åˆ°è¿™ä¸ªèŠ‚ç‚¹</span>
              <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">const</span> other <span class="token keyword">of</span> idxMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>explored<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                      explored<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span>
                      nxt<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>other<span class="token punctuation">)</span> <span class="token comment">//pushä¸‹ä¸€ä¸ªå¯ä»¥è·³çš„ç›¸åŒå€¼çš„èŠ‚ç‚¹</span>
                  <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
              idxMap<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">//åˆ é™¤å½“å‰èŠ‚ç‚¹ï¼ˆé˜²æ­¢é‡å¤ï¼‰</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>explored<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>cur <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//ç›¸é‚»ä½ç½®èŠ‚ç‚¹</span>
              explored<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cur <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
              nxt<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>               
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span><span class="token punctuation">(</span>cur <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>explored<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>cur <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
              explored<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cur <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
              nxt<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      nodes <span class="token operator">=</span> nxt
      step<span class="token operator">++</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´"><a href="#åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´" class="header-anchor">#</a> åˆ°è¾¾ç›®çš„åœ°çš„ç¬¬äºŒçŸ­æ—¶é—´</h4> <p>é¢˜ç›®æè¿°ï¼šä¸€ä¸ªåŒå‘è¿é€šå›¾ï¼Œæ¯è¿‡ä¸€æ¡è¾¹éœ€è¦timeæ—¶é—´ï¼Œæ¯changeæ—¶é—´éœ€è¦ç­‰å¾…çº¢ç»¿ç¯<br>
æ•°æ®ç»“æ„è®¾ç½®ï¼š1.graphå­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹<br>
2.pathå­˜å‚¨ä»1èŠ‚ç‚¹åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ä¸æ¬¡æœ€çŸ­è·¯å¾„é•¿åº¦
3.queueé˜Ÿåˆ—é‡Œå­˜å‚¨çš„æ˜¯ä»1èŠ‚ç‚¹èµ°åˆ°çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»1åˆ°è¿™é‡Œçš„é•¿åº¦ï¼ˆè¾¹æ•°ï¼‰ã€‘<br>
ğŸˆ**é‡ç‚¹bfs:**é˜Ÿå¤´å‡ºé˜Ÿï¼Œæ›´æ–°ç›¸é‚»èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œç›¸é‚»èŠ‚ç‚¹å…¥é˜Ÿï¼Œç›´åˆ°æ›´æ–°äº†æœ«å°¾èŠ‚ç‚¹çš„æ¬¡æœ€çŸ­é•¿åº¦<br> <strong>æ¯æ¬¡è®¿é—®ä¸‹ä¸€ä¸ªç›¸é‚»èŠ‚ç‚¹æ—¶ï¼Œæ¯”è¾ƒlen+1ï¼Œå³ä¸‹ä¸€æ­¥å¦‚æœèµ°è¿™ä¸ªèŠ‚ç‚¹æ˜¯å¦æ›´æ–°äº†æœ€çŸ­æˆ–æ¬¡æœ€çŸ­è·¯å¾„é•¿åº¦ï¼Œæ›´æ–°æ“ä½œä¹‹åå…¥é˜Ÿ</strong><br>
ğŸ‰æ•´ä½“æ€è·¯ï¼šä»å½“å‰èŠ‚ç‚¹å‡ºå‘ï¼Œæ‰¾åˆ°ä¸‹ä¸€ä¸ªå¯ä»¥è®¿é—®çš„èŠ‚ç‚¹ï¼Œæ¯”è¾ƒå¦‚æœä¸‹ä¸€æ­¥è®¿é—®è¿™ä¸ªèŠ‚ç‚¹æ˜¯å¦è·¯å¾„æ›´çŸ­æˆ–è€…æ¬¡æœ€çŸ­ï¼Œå¦‚æœæ›´çŸ­åˆ™æ›´æ–°pathå†…å®¹å¹¶pushè¿›å…¥é˜Ÿåˆ—</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">secondMinimum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> edges<span class="token punctuation">,</span> time<span class="token punctuation">,</span> change</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//graphå­˜å›¾æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥åˆ°è¾¾çš„å…¶ä»–èŠ‚ç‚¹</span>
  <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> edge <span class="token keyword">of</span> edges<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//path[i][0] è¡¨ç¤ºä» 1 åˆ° i çš„æœ€çŸ­è·¯é•¿åº¦ï¼Œpath[i][1] è¡¨ç¤ºä» 1 åˆ° i çš„ä¸¥æ ¼æ¬¡çŸ­è·¯é•¿åº¦</span>
  <span class="token comment">//pathäºŒç»´æ•°ç»„å­˜çš„æœ€çŸ­è·¯å¾„ï¼Œæ˜¯è·¯è¿‡çš„è¾¹æ•°ï¼Œå› ä¸ºæ˜¯æ— æƒå›¾å¯ä»¥æŒ‰1ç®—</span>
  <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  path<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>path<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> Number<span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//æ›´æ–°pathæ¯ä¸ªæ ¼å€¼ï¼Œç›´åˆ°æ‰¾åˆ°åˆ°nçš„æ¬¡æœ€å°è·¯å¾„</span>
      <span class="token keyword">const</span> <span class="token punctuation">[</span>cur<span class="token punctuation">,</span> len<span class="token punctuation">]</span> <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//curæ˜¯æŒ‡å“ªä¸ªèŠ‚ç‚¹ï¼Œlenæ˜¯ä»1åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> next <span class="token keyword">of</span> graph<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//graphé‡Œé¢å­˜äº†ç›¸é‚»çš„èŠ‚ç‚¹</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> path<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//å¦‚æœæ­¥æ•°+1å°äºpathèŠ‚ç‚¹çš„å€¼ï¼ˆåˆå§‹åŒ–æ˜¯æ— ç©·å¤§ï¼‰</span>
              path<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//æ›´æ–°è¯¥èŠ‚ç‚¹æœ€çŸ­è·¯å¾„ï¼ˆå³+1æ­¥å³å¯åˆ°è¾¾ï¼‰</span>
              queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>next<span class="token punctuation">,</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŠŠä¸‹ä¸€æ­¥å¯ä»¥èµ°çš„èŠ‚ç‚¹pushé˜Ÿåˆ—</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&gt;</span> path<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> len <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> path<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//å¦‚æœ+1æ­¥æ¯”æœ€å°è·¯å¾„å¤§ã€æ¯”æ¬¡æœ€å°è·¯å¾„å°</span>
              path<span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//æ›´æ–°æ¬¡æœ€å°è·¯å¾„</span>
              queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">[</span>next<span class="token punctuation">,</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//æŠŠä¸‹ä¸€æ­¥å¯ä»¥èµ°çš„èŠ‚ç‚¹pushé˜Ÿåˆ—</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//è®¡ç®—ç®—ä¸Šçº¢ç»¿ç¯çš„æ—¶é—´</span>
  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> path<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//æ¯æ¬¡åˆ°èŠ‚ç‚¹çš„æ—¶å€™éƒ½éœ€è¦+è¾¹é•¿å’Œå¯èƒ½+ç­‰å¾…æ—¶é—´</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> change<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> change<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//å¦‚æœ2å€å–ä½™è¿˜å¤§äºchangeï¼ˆå¦‚æœåªå–ä½™ä¸€ä¸ªchangeï¼Œæ— æ³•åˆ¤æ–­æ•°æ¯”changeå¤§è¿˜æ˜¯å°ï¼‰</span>
          ret <span class="token operator">=</span> ret <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> change <span class="token operator">-</span> ret <span class="token operator">%</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> change<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      ret <span class="token operator">=</span> ret <span class="token operator">+</span> time<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">secondMinimum</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/vuepress-studyNote/ç®—æ³•/æ’åº.html" class="prev">
        æ’åº
      </a></span> <span class="next"><a href="/vuepress-studyNote/ç®—æ³•/å¹¿åº¦ä¼˜å…ˆ.html">
        å¹¿åº¦ä¼˜å…ˆ
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/vuepress-studyNote/assets/js/app.57c16235.js" defer></script><script src="/vuepress-studyNote/assets/js/2.00654c4d.js" defer></script><script src="/vuepress-studyNote/assets/js/36.95ece739.js" defer></script>
  </body>
</html>
