<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hello VuePress</title>
    <meta name="generator" content="VuePress 1.8.3">
    <link rel="icon" href="./logo.png">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/vuepress-studyNote/assets/css/0.styles.c5220385.css" as="style"><link rel="preload" href="/vuepress-studyNote/assets/js/app.57c16235.js" as="script"><link rel="preload" href="/vuepress-studyNote/assets/js/2.00654c4d.js" as="script"><link rel="preload" href="/vuepress-studyNote/assets/js/11.c0459775.js" as="script"><link rel="prefetch" href="/vuepress-studyNote/assets/js/10.8bdba072.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/12.622e4347.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/13.d657a2e9.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/14.c675d45b.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/15.13915e3b.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/16.89dea890.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/17.86167f1e.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/18.417327ad.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/19.90d041e5.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/20.856c557f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/21.ab1152c2.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/22.0657a454.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/23.f15c4747.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/24.a1d073d4.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/25.feb7ead8.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/26.5fee1abe.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/27.04c45ad4.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/28.c03aa9ee.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/29.2e2612ba.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/3.d7907780.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/30.cb59cffc.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/31.ee96de2e.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/32.0f85a349.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/33.03fd2c17.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/34.57e7738f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/35.d713f23c.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/36.95ece739.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/37.ecdc9a20.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/38.4bb4fb4c.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/39.794617ef.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/4.9663fa9d.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/40.3ce6fbb8.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/41.51c6cec5.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/5.af36595f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/6.0f952876.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/7.a648995c.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/8.26754a8f.js"><link rel="prefetch" href="/vuepress-studyNote/assets/js/9.1a515532.js">
    <link rel="stylesheet" href="/vuepress-studyNote/assets/css/0.styles.c5220385.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-studyNote/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JS</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/vuepress-studyNote/Webpack.html" class="sidebar-link">Webpack</a></li><li><a href="/vuepress-studyNote/ç½‘ç»œåŸç†.html" class="sidebar-link">ç½‘ç»œåŸç†</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ç®—æ³•</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-studyNote/React/åŸºæœ¬ä½¿ç”¨.html" class="active sidebar-link">åŸºæœ¬ä½¿ç”¨</a></li><li><a href="/vuepress-studyNote/React/Reactäº‹ä»¶.html" class="sidebar-link">Reactäº‹ä»¶</a></li><li><a href="/vuepress-studyNote/React/Redux.html" class="sidebar-link">Redux</a></li><li><a href="/vuepress-studyNote/React/React-Router.html" class="sidebar-link">Router</a></li><li><a href="/vuepress-studyNote/React/é«˜çº§ç‰¹æ€§.html" class="sidebar-link">é«˜çº§ç‰¹æ€§</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJs</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><ol><li>å˜é‡ã€è¡¨è¾¾å¼
reactçš„æ’å€¼æ˜¯ä½¿ç”¨ä¸€å¯¹{ }ï¼Œ{ }å†…å¯ä»¥å†™jså˜é‡ã€è¡¨è¾¾å¼<br>
æ‰©å±•è¿ç®—ç¬¦...å¯ä»¥è§£æ„æ•°ç»„ï¼ŒåŸç”Ÿjsè§£æ„å¯¹è±¡éœ€è¦å†™{...obj}ï¼Œreactå†…ç½®å¯ä»¥ç›´æ¥è§£æ„å¯¹è±¡ï¼ˆreactä¸­çš„{}ä»…è¡¨ç¤ºè¦ä½¿ç”¨jsè¯­æ³•äº†ï¼‰</li> <li>class style<br>
className=â€œâ€<br>
style=â€œâ€     style= ä¸­é—´ç¬¬ä¸€ä¸ªå¤§æ‹¬å·ä»£è¡¨è¦åŒ…ä¸€ä¸ªjså˜é‡ï¼Œé‡Œå±‚å¤§æ‹¬å·æ˜¯å¯¹è±¡æ ‡ç¤º</li> <li>å­å…ƒç´ å’Œç»„ä»¶<br>
åŸç”Ÿhtml</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> rawHtml <span class="token operator">=</span> <span class="token string">'&lt;span&gt;å¯Œæ–‡æœ¬å†…å®¹&lt;i&gt;æ–œä½“&lt;/i&gt;&lt;b&gt;åŠ ç²—&lt;/b&gt;&lt;/span&gt;'</span>
<span class="token keyword">const</span> rawHtmlData <span class="token operator">=</span> <span class="token punctuation">{</span>
    __html<span class="token operator">:</span> rawHtml <span class="token comment">// æ³¨æ„ï¼Œå¿…é¡»æ˜¯è¿™ç§æ ¼å¼</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> rawHtmlElem <span class="token operator">=</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span>rawHtmlData<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>rawHtml<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>         <span class="token comment">//ä»…ä»…æ˜¯æ–‡æœ¬</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">return</span> rawHtmlElem
</code></pre></div><ol start="4"><li>æ¡ä»¶åˆ¤æ–­ï¼šif eles \ ä¸‰å…ƒè¿ç®—ç¬¦ \ &amp;&amp;</li> <li>åˆ—è¡¨æ¸²æŸ“<br> <img src="/vuepress-studyNote/assets/img/1.d0fd35cf.png" alt="a"></li></ol> <h4 id="mapæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„-liståŸæœ¬æ•°ç»„æ²¡æœ‰å˜"><a href="#mapæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„-liståŸæœ¬æ•°ç»„æ²¡æœ‰å˜" class="header-anchor">#</a> mapæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„,liståŸæœ¬æ•°ç»„æ²¡æœ‰å˜</h4> <ol start="6"><li>å—æ§ç»„ä»¶
æŠŠ input å’Œ state çš„å€¼å…³è”èµ·æ¥äº†â€”&gt;å¯ä»¥æ§åˆ¶ input é‡Œé¢çš„å€¼</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å—æ§ç»„ä»¶</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">&quot;inputName&quot;</span><span class="token operator">&gt;</span>å§“åï¼š<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* ç”¨ htmlFor ä»£æ›¿ for */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>input id<span class="token operator">=</span><span class="token string">&quot;inputName&quot;</span> value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onInputChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function-variable function">onInputChange</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>(vue ä¸­ä½¿ç”¨ v-model åŒå‘æ•°æ®ç»‘å®šï¼Œé‡Œé¢æ”¹ç›¸åº”çš„æ•°æ®å°±æ”¹äº†ï¼›react è”åŠ¨çš„æ•ˆæœéœ€è¦è‡ªå·±å†™)<br>
7. éå—æ§ç»„ä»¶
input è¾“å…¥çš„å€¼ä¸å— state æ§åˆ¶ï¼Œè¾“å…¥ä¸æœ¬èº« state æ²¡æœ‰å…³ç³»ï¼ˆåªæ˜¯ç”¨ state èµ‹äº†åˆå§‹å€¼ï¼Œæ²¡æœ‰å†™å›è°ƒå‡½æ•°ä¸€ç‚¹ç‚¹å­˜ï¼‰<br>
åˆ›å»º refã€reactæ¨èä½¿ç”¨React.createRef()çš„apiåˆ›å»ºã€‘</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'123'</span><span class="token punctuation">,</span>
      flag<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>nameInputRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// åˆ›å»º ref</span>
    <span class="token comment">//React.createRef()è°ƒç”¨åè¿”å›ä¸€ä¸ªå®¹å™¨ï¼Œè¯¥å®¹å™¨å¯ä»¥å­˜å‚¨è¢«refæ‰€æ ‡ç¤ºçš„èŠ‚ç‚¹</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fileInputRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>æ–‡ä»¶çš„æ—¶å€™å¿…é¡»å¾—ç”¨ DOM è·å¾—ï¼›æŸäº›å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œéœ€è¦ä¼ å…¥ DOM å…ƒç´ </strong><br>
ğŸ””ã€å…¶ä»–refç”¨æ³•ã€‘<br>
1)å­—ç¬¦ä¸²ref=&quot;test&quot;  this.refs.test  ä¸æ¨è<br>
2)å›è°ƒå‡½æ•°ï¼ˆå†…è”ï¼šæ›´æ–°è¿‡ç¨‹ä¼šæ‰§è¡Œä¸¤æ¬¡ï¼Œç¬¬ä¸€æ¬¡ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹æ¸…ç©ºæ—§çš„refï¼‰ref={(c)=&gt;{this.input2 = c}}<br>
3)classç»‘å®šå‡½æ•°çš„å½¢å¼ä¸ä¼šè°ƒç”¨ä¸¤æ¬¡  ref={this.saveInput}<br>
ä½¿ç”¨çš„å±æ€§å˜æ›´ä¸º defaultValue defaultChecked
8. å—æ§ç»„ä»¶ vs éå—æ§ç»„ä»¶</p> <ul><li>ä¼˜å…ˆä½¿ç”¨å—æ§ç»„ä»¶ï¼Œç¬¦åˆ React è®¾è®¡åŸåˆ™ã€æ•°æ®é©±åŠ¨è§†å›¾ã€‘</li> <li>å¿…é¡»æ“ä½œ dom æ—¶ï¼Œå†ä½¿ç”¨éå—æ§ç»„ä»¶</li></ul> <ol start="9"><li>è¡¨å•ä½¿ç”¨</li></ol> <ul><li>textareaæ ‡ç­¾ä¸­é—´ä¸èƒ½å†™ä¸œè¥¿ï¼Œéœ€è¦åœ¨æ ‡ç­¾é‡Œé¢å†™ value</li> <li>input textarea select éƒ½ç”¨ value</li> <li>checkbox radio ç”¨ checked</li></ul> <ol start="10"><li>props</li></ol> <ul><li>props ä¼ é€’æ•°æ®</li> <li>props ä¼ é€’å‡½æ•° (vueï¼šäº‹ä»¶$emit)</li> <li>props ç±»å‹æ£€æŸ¥ã€è®¾ç½®é»˜è®¤å€¼</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> ProTypes from â€˜prop<span class="token operator">-</span>types'
List<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>  
    <span class="token comment">//propTypesæ˜¯è¡¨ç¤ºè¦å®šä¹‰è§„åˆ™ï¼ŒPropTypesæ˜¯reactå°è£…çš„ç±»</span>
    list<span class="token operator">:</span>PropTypes<span class="token punctuation">.</span><span class="token function">arrayOf</span><span class="token punctuation">(</span>PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">)</span><span class="token punctuation">.</span>isRequired     <span class="token comment">//å¿…é¡»æœ‰ä¸”å¿…é¡»ä¸ºæ•°ç»„</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="11"><li>super
super(props)æ„é€ å™¨æ˜¯å¦æ¥æ”¶propsæ˜¯å¦ä¼ é€’ç»™superï¼Œå–å†³äºæ˜¯å¦å¸Œæœ›åœ¨æ„é€ å™¨ä¸­ç”¨thisè®¿é—®props<br>
es6è¦æ±‚å­ç±»çš„æ„é€ å‡½æ•°å¿…é¡»æ‰§è¡Œä¸€æ¬¡superå‡½æ•°ï¼Œå› ä¸ºå­ç±»çš„thisè¦ç»§æ‰¿çˆ¶ç±»ï¼Œsuperä»£è¡¨äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œè¿”å›çš„æ˜¯å­ç±»çš„å®ä¾‹thisæŒ‡å‘å­ç±»ï¼Œå­ç±»å†åœ¨çˆ¶ç±»çš„thisåŸºç¡€ä¸ŠåŠ å·¥<br>
superå½“ä½œå¯¹è±¡ä½¿ç”¨ï¼ŒæŒ‡å‘çˆ¶ç±»çš„åŸå‹å¯¹è±¡super.c()ç›¸å½“äºA.prototype.c()</li> <li>state
<strong>çŠ¶æ€ï¼ˆæ•°æ®ï¼‰æå‡ï¼šä¼šæŠŠæ•°æ®æå‡åˆ°æœ€é«˜çº§çš„ç»„ä»¶ï¼ˆçˆ¶ç»„ä»¶ï¼‰</strong></li></ol> <ul><li>å‡½æ•°ç»„ä»¶é»˜è®¤æ²¡æœ‰</li> <li>ä¸å¯å˜å€¼:
ä¸èƒ½é€šè¿‡ this.state ç›´æ¥æ”¹å˜å€¼ï¼Œéœ€è¦ä»€ä¹ˆæ—¶å€™è¦æ”¹çš„æ—¶å€™ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ setState,å¹¶ä¸”ä¸èƒ½å½±å“ä¹‹å‰çš„å€¼
concat ç­‰å¯¹ tthis.state æ“ä½œå¯ä»¥è¿”å›ä¸€ä¸ªéœ€è¦çš„ç»“æœï¼Œä½†æ˜¯ä¸ä¼šå¯¹åŸæ¥çš„æ•°æ®æœ‰å½±å“å˜åŒ–</li> <li>å…¶ä»–æ“ä½œéœ€è¦å…ˆç”Ÿæˆä¸€ä»½å¤‡ä»½å†è¿›è¡Œæ“ä½œ,push ä¼šæå‰å¯¹ state çš„å€¼è¿›è¡Œæ”¹å˜æ˜¯ä¸è¡Œçš„ğŸ™…â€â™€ï¸</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¸å¯å˜å€¼ï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼Œçº¯å‡½æ•°ï¼‰ - æ•°ç»„</span>
<span class="token keyword">const</span> list5Copy <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list5<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list5Copy<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸­é—´æ’å…¥/åˆ é™¤</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    list1<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// è¿½åŠ </span>
    list2<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list2<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// è¿½åŠ </span>
    list3<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list3<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// æˆªå–</span>
    list4<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list4<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ç­›é€‰</span>
    list5<span class="token operator">:</span> list5Copy<span class="token punctuation">,</span> <span class="token comment">// å…¶ä»–æ“ä½œ</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ³¨æ„ï¼Œä¸èƒ½ç›´æ¥å¯¹ this.state.list è¿›è¡Œ push pop splice ç­‰ï¼Œè¿™æ ·è¿åä¸å¯å˜å€¼</span>
<span class="token comment">// ä¸å¯å˜å€¼ - å¯¹è±¡</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    obj1<span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>obj1<span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    obj2<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>obj2<span class="token punctuation">,</span> a<span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ³¨æ„ï¼Œä¸èƒ½ç›´æ¥å¯¹ this.state.obj è¿›è¡Œå±æ€§è®¾ç½®ï¼Œè¿™æ ·è¿åä¸å¯å˜å€¼</span>
</code></pre></div><ul><li>å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°ï¼š
setState ä¹‹åæ˜¯å¼‚æ­¥æ¸²æŸ“é¡µé¢ï¼ŒsetState ä¹‹åå†å»æ‹¿ç»“æœæ˜¯ä¹‹å‰çš„ç»“æœï¼Œå¯ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­æ‹¿æœ€æ–°çš„å€¼</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// è”æƒ³ Vue $nextTick - DOM</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count by callback'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å›è°ƒå‡½æ•°ä¸­å¯ä»¥æ‹¿åˆ°æœ€æ–°çš„ state</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¼‚æ­¥çš„ï¼Œæ‹¿ä¸åˆ°æœ€æ–°å€¼</span>
</code></pre></div><ul><li>åœ¨ setTimeout æˆ–è‡ªå®šä¹‰ DOM äº‹ä»¶ä¸­æ˜¯åŒæ­¥çš„</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">bodyClickHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count in body event'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è‡ªå·±å®šä¹‰çš„ DOM äº‹ä»¶ï¼ŒsetState æ˜¯åŒæ­¥çš„</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bodyClickHandler<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count in setTimeout'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p>componentWillUnmout ä¸­éœ€è¦åŠæ—¶é”€æ¯è‡ªå®šä¹‰ DOM äº‹ä»¶</p> <ul><li>å¯èƒ½ä¼šè¢«åˆå¹¶</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¼ å…¥å¯¹è±¡ï¼Œä¼šè¢«åˆå¹¶ï¼ˆç±»ä¼¼ Object.assign ï¼‰ã€‚æ‰§è¡Œç»“æœåªä¸€æ¬¡ +1</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    count<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ä¼ å…¥å‡½æ•°ï¼Œä¸ä¼šè¢«åˆå¹¶ã€‚æ‰§è¡Œç»“æœæ˜¯ +3</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        count<span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å¼‚æ­¥æ›´æ–°ï¼Œå½“æ—¶çš„ state çš„å€¼è¿˜éƒ½æ²¡æ›´æ–°<br>
å¦‚æœä¼ å…¥å‡½æ•°æ˜¯ä¸ä¼šæ‰§è¡Œåˆå¹¶çš„ï¼ˆå‡½æ•°æ˜¯ä¸€ä¸ªä¸ªå¯¹è±¡æœ¬èº«å°±ä¸èƒ½åˆå¹¶ï¼›å€¼ä¸€æ ·çš„å°±å¯ä»¥åˆå¹¶ï¼‰<br>
13. ç”Ÿå‘½å‘¨æœŸ</p> <ul><li>16.8ç”Ÿå‘½å‘¨æœŸ
<img src="/vuepress-studyNote/assets/img/3.71bc6768.png" alt="a"> <img src="/vuepress-studyNote/assets/img/4.7734ec25.png" alt="a"></li> <li>17ç”Ÿå‘½å‘¨æœŸ</li> <li>æ”¹å˜ä¸‰ä¸ªåŸæœ‰çš„ç”Ÿå‘½å‘¨æœŸ
å› ä¸ºæ»¥ç”¨å¯èƒ½å¯¼è‡´ä¸€äº›é—®é¢˜ï¼šcomponentWillReceiveProps componentWillUpdate componentWillMount<br>
éœ€è¦åŠ å‰ç¼€UNSAFE_ï¼Œä¸åŠ ä¹Ÿå¯ä»¥å…¼å®¹ï¼Œä½†æµè§ˆå™¨æœ‰è­¦å‘Šæç¤º</li> <li>æ–°å¢ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸ
getDerivedStateFromPropsã€æ˜¯é™æ€æ–¹æ³•ã€‘</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//è‹¥stateçš„å€¼åœ¨ä»»ä½•æ—¶å€™éƒ½å–å†³äºpropsï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨getDerivedStateFromProps</span>
<span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'getDerivedStateFromProps'</span><span class="token punctuation">,</span>props<span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
</code></pre></div><p>getSnapshotBeforeUpdate<br>
è§¦å‘æ›´æ–°ä¹‹å‰å¯ä»¥å­˜å‚¨å¿«ç…§ï¼Œå¯èƒ½å‡ºç°åœ¨ UI å¤„ç†ä¸­ï¼Œå¦‚éœ€è¦ä»¥ç‰¹æ®Šæ–¹å¼å¤„ç†æ»šåŠ¨ä½ç½®çš„èŠå¤©çº¿ç¨‹ç­‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">getSnapshotBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>list<span class="token punctuation">.</span>scrollHeight <span class="token comment">//ä¼ ç»™componentDidUpdate</span>
  <span class="token comment">//(å³æ›´æ–°ä¹‹å‰ï¼Œä¿å­˜ä¸€ä¸‹åŸæ¥çš„çŠ¶æ€ï¼Œå†æŠŠå®ƒä¼ ç»™æ›´æ–°æ—¶å€™çš„å‡½æ•°)</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/vuepress-studyNote/ç®—æ³•/ç‰›å®¢é¢˜åº“æ€»ç»“.html" class="prev">
        ç‰›å®¢æ€»ç»“
      </a></span> <span class="next"><a href="/vuepress-studyNote/React/Reactäº‹ä»¶.html">
        Reactäº‹ä»¶
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/vuepress-studyNote/assets/js/app.57c16235.js" defer></script><script src="/vuepress-studyNote/assets/js/2.00654c4d.js" defer></script><script src="/vuepress-studyNote/assets/js/11.c0459775.js" defer></script>
  </body>
</html>
